# 🎈 Crazy Balloon (クレイジーバルーン) Web版

## 📋 概要
このプロジェクトは、VibeCording（プロンプト駆動開発）を用いて「どこまで完成度の高いゲームを作れるか」を検証した作品です。  
以下の条件を満たすよう設計しました。

- 簡単で単純なルール(遊びやすい)
- index.html単体で動作可能(環境依存しにくい)
- 過去作例が少ない題材(みんなテトリスばっか作るから)

---

## 🕹️ ゲーム紹介
### Crazy Balloon とは
1980年タイトーの「Crazy Balloon」
赤い風船を操作し、迷路を突破してゴールを目指すアーケードゲームです。  
本作ではオリジナルのルールに加え、「**移動すると風船が膨らみ、停止すると縮む**」というギミックを実装しています。

---

## 🎮 遊び方
1. `index.html` をWebブラウザで開く
2. **SPACEキー**または**STARTボタン**でゲーム開始
3. **矢印キー / WASD**または**アナログスティック**で風船を操作（斜め移動可）
4. 青い点の壁に触れずに緑色のゴールへ到達
5. 狭い通路は風船が小さい状態で通り抜ける

### 🕹️ 操作方法
#### キーボード操作
- **移動**: 矢印キー / WASD
- **ゲーム開始**: SPACEキー

#### タッチ/マウス操作（バーチャルコントローラー）
- **移動**: 円形のアナログスティックをドラッグ
  - スティックの動きに応じてアナログ的な移動速度制御が可能
  - 中央からの距離で移動速度が調整されます
  - 操作を離すと自動的に中央に戻ります
- **ゲーム開始**: STARTボタンをタップ

> **注意**: タイトル画面ではSTARTボタンのみが表示され、ゲーム中はアナログスティックが表示されます

---

## ✨ 特徴
- **動的な風船サイズ**：移動中は膨張、静止中は収縮
- **精密な衝突判定**：円対点の計算による当たり判定
- **段階的難易度**：ステージ構成の追加が容易
- **レトロ感**：クラシックなドット迷路とシンプルUI
- **マルチプラットフォーム対応**：キーボード・マウス・タッチデバイスすべてに対応
- **アナログ操作**：円形スティックによる滑らかな移動制御

---

## 📂 ファイル構成
```

index.html
├── <style> … CSS統合
├── <canvas> … ゲーム画面
└── <script>
├── STAGES配列（2ステージ）
├── CrazyBalloonクラス
└── 初期化処理

```

---

## 🛠️ 技術的ハイライト
- HTML5 + CSS3 + Vanilla JavaScript (ES6+)
- 60FPSゲームループ
- sin波による風船の揺れ表現
- ドット迷路の描画と円対点衝突判定
- ファイル一枚で動作する軽量設計（fetch等の外部依存なし）

---

## ⚙️ パラメータ調整
`index.html` 内の `CrazyBalloon` クラスで以下を変更可能です。
- プレイヤー速度: `this.params.SPEED`
- 最小/最大風船サイズ: `this.params.BALLOON_MIN_R` / `this.params.BALLOON_MAX_R`
- 膨張速度: `this.params.BALLOON_EXPAND_RATE`
- 衝突判定: `checkBalloonCollision()` 関数
- マップデータ: `parseMapData()` 関数

---

## 📈 パフォーマンス目標
- 60FPS維持
- 初期化時間 < 200ms
- メモリ使用量 < 30MB
- ブラウザ互換: Chrome 60+, Firefox 55+, Safari 12+

---

## 💡 開発背景
この作品は「VibeCording（プロンプト駆動開発）」によるゲーム開発検証を目的として制作しました。  
短期間で動作するゲームを実装しつつ、UI・物理挙動・衝突判定などの要素を組み込んでいます。  
VibeCordingの詳細は割愛しますが、実装方針や仕様策定はプロンプトを通じて行っています。

---

## 🚀 開発・CI/CD

### CI/CD パイプライン
このプロジェクトでは GitHub Actions を使用した自動化されたコード品質チェックを導入しています。

#### プルリクエスト時（develop → master, feature → develop）
- **ESLint**: JavaScript/HTML コードの静的解析
- **Prettier**: コードフォーマットのチェック（修正なし）
- **stylelint**: CSS/HTML スタイルの検証
- **HTMLHint**: HTML構文の検証

#### フィーチャーブランチプッシュ時
- 上記すべてのチェック実行
- **Prettier**: コードの自動フォーマット
- 変更があれば自動コミット・プッシュ

### ローカル開発
```bash
# 依存関係のインストール
npm install

# コード品質チェック
npm run lint          # 全てのlintチェック
npm run lint:js       # ESLint
npm run lint:css      # stylelint  
npm run lint:html     # HTMLHint

# コードフォーマット
npm run format        # Prettierで自動整形
npm run check:format  # フォーマットチェック（修正なし）

# CI用コマンド
npm run ci:check      # PR時と同じチェック
npm run ci:format     # フィーチャーブランチ時と同じ処理
```

### ブランチ運用
- `master`: 本番用ブランチ
- `develop`: 開発用ブランチ
- `feature/*`: 機能開発用ブランチ

**推奨ワークフロー:**
1. `feature/*` ブランチで開発（プッシュ時に自動フォーマット）
2. `develop` ブランチへPR（品質チェックのみ）
3. `master` ブランチへPR（品質チェックのみ）
 